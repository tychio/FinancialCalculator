"use strict";window.UtilizationCalculator=function(a){function b(b){a("#currentType").text(b);var i=d(c(h.val())),j=a.noop;b.match(/^(TCC|TBS|TCX)$/)?j=function(c,d){var e=!1;return a.each(i,function(a,b){b[d]&&(e=!0)}),c===b&&!e}:"object"==typeof i[b]?j=function(a,c){return i[b][c]}:b.match(/^(TCC|TBS|TCX)(_ALL)$/)&&(j=function(a){return a===b.match(/^(TCC|TBS|TCX)/)[0]});var k=e(c(g.val()),j);f(k,i)}function c(a){var b=[];return a.split(/\r\n|\r|\n/g).forEach(function(a){a=a.split(/\t/g),a.length>1&&b.push(a)}),b}function d(a){function b(a){var b=a[2*e+1]-0;b>0&&(c[f][b]=!0)}var c={},d=a.shift(),e=0;d.forEach(function(a,b){b%2===0&&(c[a]={})});for(var f in c)a.forEach(b),e++;return c}function e(a,b){function c(b){var c=0;return a[1].forEach(function(a,d){b===a&&(c=d)}),c}var d=[];return a.forEach(function(a){var e={co:a[c("Co")],psid:a[c("PSID")],hours:a[c("Client Nonbillable Hours")]};b(e.co,e.psid)&&d.push(e)}),d}function f(b){function c(a){return(100*a).toFixed(2)+"%"}var d=0,e={},f=0;b.forEach(function(a){d+=a.hours-0,e[a.psid]||(e[a.psid]=!0,f++)}),a("#op_utilization").val(c(d/(j.val()*f*i.val()))),a("#op_hours").val(d),a("#op_count").val(f)}var g=a("#timeSheet"),h=a("#teamList"),i=a("#workDays"),j=a("#hoursDaily");return b}(jQuery);